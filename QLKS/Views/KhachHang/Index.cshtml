@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
@using QLKS.Models
@model List<KHACHHANG>
   

<div class="container">
    <div class="topbar">
        <div class="toggle">
            <ion-icon name="menu-outline"></ion-icon>
        </div>
        <!-- tim kiem -->
        <form action="~/KhachHang/Index" class="search" method="post">
            <label>
                <input type="text" name="timkiem" placeholder="Nhập tên Khách hàng">
                <ion-icon name="search-outline"></ion-icon>
            </label>
        </form>
    </div>

    <div class="details" style="display:inline-block; font-size:13px;">
        <div class="recentOrders">
            <div class="card-header">
                <h2>Danh sách Tài Khoản</h2>
            </div>
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th scope="col">Họ tên</th>
                        <th scope="col">Giới tính</th>
                        <th scope="col">Ngày sinh</th>
                        <th scope="col">CCCD</th>
                        <th scope="col">Địa chỉ</th>
                        <th scope="col">Email</th>
                        <th scope="col">SĐT</th>
                        <th scope="col">Tài khoản</th>
                        <th scope="col">Trạng thái</th>
                        <th scope="col" colspan="2" class="text-center">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.TENKH</td>
                            <td>@item.GIOITINH</td>
                            <td>@item.NGAYSINH</td>
                            <td>@item.CCCD</td>
                            <td>@item.DIACHI</td>
                            <td>@item.EMAIL</td>
                            <td>@item.SDT</td>
                            <td>@item.TAIKHOAN</td>
                            <td>@item.TRANGTHAI</td>

                            <td>
                                <a href="@Url.Action("Details","KhachHang",new {@id = item.TAIKHOAN })" role="button" class="btn btn-primary">
                                    <i class="far fa-eye"></i> Details
                                </a>
                            </td>

                            @if (item.TRANGTHAI == 1)
                            {
                                <td class="text-center">
                                    <a href="@Url.Action("LockorUnlock","KhachHang",new {@id = item.TAIKHOAN })" class="btn btn-success">
                                        <i class="fas fa-lock"></i> Lock
                                    </a>
                                </td>
                            }
                            else if (item.TRANGTHAI == 0)
                            {
                                <td class="text-center">
                                    <a href="@Url.Action("LockorUnlock","KhachHang",new {@id = item.TAIKHOAN })" class="btn btn-danger">
                                        <i class="fas fa-unlock"></i> Unlock
                                    </a>
                                </td>
                            }
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        @*<div style="text-align:center;">
            @Html.PagedListPager(Model, page => Url.Action("Index", "Admin", new { page }))
        </div>*@
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
<script>
    document.getElementById('blockUser')
        .addEventListener('click', function () {
            toastr.warning('Đã khóa tài khoản');
        });
</script>

<script>
    document.getElementById('openUser')
        .addEventListener('click', function () {
            toastr.success('Đã mở khóa tài khoản');
        });
</script>
